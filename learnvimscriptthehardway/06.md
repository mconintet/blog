##前导字符

我们已经学会了以一个不用在以后挠光自己头发的方式去设置按键映射，但是我们还需要注意更多的问题。

每当我们这样做的时候：`:nnoremap <space> dd` 我们已经重写了 `<space>` 的默认行为。但是当我们之后需要默认行为时怎么办呢？

它们是可以安全的设置按键映射的，但是只给了我们6个键去做。那么 Vim 的可定制性如何体现呢？

##按键串映射

和 Emacs 类似，Vim 是很容易使用不只一个按键进行映射的。运行下面的命令：

```vmi
:nnoremap -d dd
:nnoremap -c ddO
```

在普通模式下通过输入 `-d` 和 `-c` （快速的）可以试试效果。第一个映射删除了一行，而第二个映射 “清空” 了一行并带你进入到插入模式。

这就意味你可以选一个你不关心的按键，比如 `-` 去作为一个前缀。也就是说你必须按下一个额外的键去触发映射，不过一个额外的键的劣势可以很容易的被肌肉记忆所弥补。

如果你认为这是一个不错的解决方案，那就对了，并且这也指出了 Vim 已经有一个前缀按键的机制了。

##前导字符

Vim 将前缀按键称作 “前导字符（leader）”。你可以任意的设置你喜欢的按键去作为前导字符。运行下面的命令：

```vim
:let mapleader = "-"
```

你可以将 `-` 替换成任意的你喜欢的。我个人喜欢 `,`  因为它很容易输入，尽管这样隐藏了一个有用的功能。

当你在创建按键映射的时候，你可以使用 `<leader>` 去表示 “不管我的前导字符被设置成了什么”。运行下面的命令：

```vim
:nnoremap <leader>d dd
```

现在试一试输入你的前导字符并且输入 `d`。Vim 将会删除当前行。

为什么需要设置 `<leader>` 呢？为什么不能在映射中直接包含自己的 “前缀” 按键？有三个好的解释。

第一，你可以在以后改变你的前导字符，将它定义在同一个地方有利于以后的更改。

第二，当别人查看你的 `~/.vimrc` 文件的时候，可以很容的知道你是要表示 `<leader>`。他们可以简单的拷贝你的按键映射到自己的 `~/.vimrc` 文件中，哪怕他们使用了与你不同的前导字符。

最后，许多的 Vim 插件创建以 `<leader>` 开头的按键映射。如果你已经设置它们，那么它们将可以立刻很好的工作并且你会觉得它们很熟悉。

##局部前导字符

Vim 有一个二级的 “前导字符” 叫做 “局部前导字符（local leader）”。这意味着你可以为特定的文件类型（比如 Python 或者 HTML）设置只适用于它们的前导字符。

我们之后将讨论如何为特定的文件创建前导字符，不过你现在可以先设置自己的 “localleader”：

```vim
:let maplocalleader = "\\"
```

注意我们必须使用 `\\` 而不是 `\` ，因为 `\` 在 Vimscript 中是一个转移字符。之后你将了解更多关于它的信息。

现在你可以在按键映射中使用 `<localleader>`  ，并且它可以和 `<leader>` 一样的工作（当然换一个不同于 `\` 的也是可以工作的）。

如果你不喜欢反斜杠，可以随意的将它替换成你喜欢的字符。

##练习

阅读 `:help mapleader`

阅读 `:help maplocalleader`

在你的 `~/.vimrc` 文件中 设置 `mapleader` 和 `maplocalleader`。

将上几节在 `~/.vimrc` 中添加的按键映射都换成有 `<leader>` 的形式。
