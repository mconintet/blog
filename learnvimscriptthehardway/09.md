##更多按键映射

我知道目前为止关于按键映射我们已经讨论了很多了，但是我们现在将再次的练习它们。按键映射是其中一个可以简单快速将你的 Vim 变得高效的方式，所以我们应该稍微多关注它一点。

一个已经在很多例子中展示过的，但是我们还没有明确讨论过的关于按键映射的地方是映射按键的序列形式。

运行下面的命令：

```vim
:nnoremap jk dd
```

现在确定你正处在普通模式下，按键 `j` 然后快速的再按下 `k`。Vim 将会删除当前行。

现在试试值按下 `j`，然后等一会。如果你没有在按下 `j` 之后紧接着按下 `k` 的话，Vim 则认为你不想激活按键映射，并运行 `j` 所对应的默认功能（下移一行）。

这个映射会让光标移动变得困难，所以让我们移除这个映射：

```vim
:nunmap jk
```

现在在普通模式下按下 `jk`，你将下移一行然后上移一行，和平时一样。

##一个更为复杂的按键映射

到目前为止我们已经看过一堆简单的按键映射了，现在是时候看一个稍微复杂一点的了。运行下面的命令：

```vim
:nnoremap <leader>" viw<esc>a"<esc>hbi"<esc>lel
```
首先这是一个有趣的映射。首先让我试一试。进入普通模式，将光标放到一个单词上并输入 `<leader>"`。Vim 将会使用双引号将单词围住。

这是如何工作的？让我们将其分隔成一小部分然后逐个分析：

```vim
viw<esc>a"<esc>hbi"<esc>lel
```

- `viw`：可是模式下选中当前单词
- `<esc>`：离开可是模式，现在光标停留在当前单词的最后一个字符
- `a`：在当前字符之后进入插入模式
- `"`：插入一个 `"`，因为我们当前在插入模式下了
- `<esc>`：回到普通模式
- `h`：左移一个字符
- `b`：回到单词的开头，光标在单词的首个字符
- `i`：在当前字符的前面进入插入模式
- `"`：插入一个 `"`
- `<esc>`：回到普通模式
- `l`：右移，这样将光标放到单词的第一个字符
- `e`：移动到单词的结尾
- `l`：右移，这样将光标放到结束的引号上

记住：因为我们这里使用了 `:nnoremap` 而不是 `:nmap`。这样的话如果你在映射中使用了已经被映射的按键就不会出现问题 （这里比如 `"` ），Vim 将会执行它们的默认功能。

希望你可以看到 Vim 的按键映射是多么的有潜力，以及可以变得多么不易读。

##练习

创建一个类似的按键映射，可以使用单引号代替双引号。

试着使用 `vnoremap` 去添加一个按键映射可以将可视模式下选中的部分被引号包裹。对此你很可能需要 <code>\`<</code> 和 <code>\`></code> 命令，可以这样阅读它们 <code>:help \`<</code>。

在普通模式下映射 `H` 可以移动到当前行首。因为 `h` 是左移，所以你可以认为 `H` 是升级版的 `h`。

在普通模式下映射 `L` 可以移动到当前行尾。因为 `l` 是右移，所以你可以认为 `L` 是升级版的 `L`。

找出这样做的话哪些命令被你重写了，可以通过阅读 `:help H` 和 `:help L`。决定下你是否需要它们。

将所有这些按键映射添加到你的 `~/.vimrc` 文件中，确保你是通过之前设置的按键映射 “编辑我的 `~/.vimrc`” 和 “应用我的 `~/.vimrc`”去完成的。
