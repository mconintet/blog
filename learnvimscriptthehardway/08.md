##缩写

Vim 有一个功能叫做 ”缩写“，它感觉上像是按键映射但是用于插入，替换，和命令模式。它们是及其的灵活和强大的，不过我们这里将主要介绍它们最为通用的部分。

我们这本书中将只关注插入模式的缩写。运行下面的命令：

```vim
:iabbrev adn and
```

现在进入插入模式并输入：

```vim
One adn two
```

在你输入完成 `adn` 之后 Vim 会将它替换为 `and`。

像这样纠正输入是缩写的一个很大的功能。运行下面的代码：

```vim
:iabbrev waht what
:iabbrev tehn then
```

现在进入插入模式并输入：

```
Well, I don't know waht we should do tehn.
```

注意两个缩写都被替换了，甚至第二个你都没有输入空格。

##关键字字符

Vim 在你输入了一个 “非关键字符” 后将会做一个缩写替换。“非关键字符” 意味着那些不在 `iskeywword` 选项中的字符。运行下面的代码：

```vim
:set iskeyword?
```

你可以看到一些类似 `iskeyword=@,48-57,_,192-255` 的东西。它的这个格式是非常复杂的，但本质上说它意味着接下来的将被认为是 “关键字符”：
- 下划线字符（`_`）
- 所有字母的 ASCII 字符，大小写和它们的重音部分
- 任何的 ASCII 值在 48 和 57 之间的字符
- 任何的 ASCII 值在 192 和 255 之间的字符（一些特殊的字符）

如果你想阅读关于这个选项的完整描述，可是这样查看 `:help isfname`，但是我得提醒你，再看之前最好准备一杯啤酒，边喝边看。

为了我们当前的目标，我们可以简单的先记住，缩写将会在你输入了不是单个字母，数字，和下划线之后展开。

##更多缩写

缩写是很有用的，不仅仅是纠正输入。让我们添加一些有益于日常文本编辑的缩写。运行下面的代码：

```vim
:iabbrev @@ steve@stevelosh.com
:iabbrev ccopy Copyright 2013 Steve Losh, all rights reserved.
```

可以将我的名字和邮箱替换成你自己的，然后进入插入模式并试试它们。

这些缩写承载了一个很长的部分，并将其压缩成一些很少的字符。一般来说，这可以节约很多的时间，并减少你手指的损耗。

##为什么不使用按键映射？

如果你认为缩写类似于按键映射的话，你是对的。但是它们被用于做不同的事情。让我们看一个例子：

运行下面的代码：

```vim
:inoremap ssig -- <cr>Steve Losh<cr>steve@stevelosh.com
```

这个缩写可以让你快速的插入一个签名。进入插入模式并输入 `ssig`

它看起来工作很好，但是有一个问题。试着在插入模式中输入：

`Larry Lessig wrote the book "Remix".`

我会注意到， Vim 已经将 Larry 的名字 `ssig` 做了展开。按键映射不会关注位于它本身的前后分别是什么字符 -- 它只关注组成它本身的字符串。

产出那个按键映射并使用一个缩写替换它。运行下面的代码：

```vim
:iunmap ssig
:iabbrev ssig -- <cr>Steve Losh<cr>steve@stevelosh.com
```

现在再试试缩写。

现在 Vim 将会关注 `ssig` 前后的字符，并且只在我们需要的时候才展开。

##练习

在你的 `~/.vimrc` 文件中 添加一些你知道的常用的缩写。确定你是使用上一节中创建的打开和应用配置文件的按键映射。

也为你的邮件地址，网址，签名添加缩写。

想一些你常用的输入并将它们添加到缩写。
