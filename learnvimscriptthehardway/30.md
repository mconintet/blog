##Execute Normal!

现在我们已经看过了 `execute` 和 `normal!`，我们可以更详细讨论 Vimscript 中的常用编程方式。运行下面的命令：

```vim
:execute "normal! gg/foo\<cr>dd"
```

这将会移动到文件的第一行，并搜索第一个出现的 `foo`，然后删除包含它的那一行。

之前我们试图使用 `normal!` 去执行一个搜索命令，但是无法输入那个用于执行搜索的回车符。将 `normal!` 和 `execute` 相结合可以解决那个问题，

`execute` 可以让你使用编程的方式去创建命令，这样你可以使用 Vim 的一般字符串跳脱序列，去产生那些你需要的不可打印的字符。试试接下来的命令：

```vim
:execute "normal! mqA;\<esc>`q"
```

这做了什么？让我们将其分开来看：
- `:execute "normal! ..."`：运行那些命令序列，就好像它们被在普通模式下按下一样，忽略所有的映射，并且将字符串跳脱序列替换成它们的结果。
- `mq`：将当前的位置存储到书签 "q" 中。
- `A`：移动到当前的行尾并在最后一个字符的后面进入插入模式。
- `;`：我们现在在插入模式下，所以这只是将一个分号放到文件中。
- `\<esc>`：这是一个跳脱字符串，表示的是按下一个 escape 键，这将带我们离开插入模式。
- ``q`：回到书签 `q` 所指的位置。

这看起来有些可怕，但是确实是非常有用的：它在当前行的行尾添加一个分号，并保持你当前光标所在的位置。这样的一个映射让你在写 Javascript，C 或者任何其他以分号作为语句结束符的语言时，如果记了输入分号，将是非常易用的。

##练习

再次阅读 `:help expr-quote` （你之前已经看过）去使你回忆起如何在使用 `execute` 的时候使用跳脱字符串去将特殊字符传递给 `normal!`。

在进入下一节之前，可以将这本书放一放。吃一个三明治或者喝一杯咖啡，如果有宠物的话喂一下它们，并且休息一会。
